<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Doxygen Awesome" />
<meta property="og:image" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta property="og:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<meta property="og:url" content="https://jothepro.github.io/doxygen-awesome-css/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta name="twitter:title" content="Doxygen Awesome" />
<meta name="twitter:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<!-- END twitter metadata -->
<title>Shellminator: Usage with Arduino</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/svg+xml" href="logo.drawio.svg">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<!-- Change Github link here! -->
<a href="https://github.com/dani007200964/Shellminator" class="github-corner" title="View source on GitHub">
    <svg viewBox="0 0 250 250" style="position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.PNG"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Shellminator
   &#160;<span id="projectnumber">V0.1A</span>
   </div>
   <div id="projectbrief">Shellminator is a simplified VT100 compatible iinterface for c++ projects</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('usage_with_arduino.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Usage with Arduino </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#basic_example">Basic example</a></li>
<li class="level1"><a href="#create_costum_logo">Create costum logo</a></li>
<li class="level1"><a href="#add_execution_function">Add execution function</a></li>
<li class="level1"><a href="#configure_the_library">Configure the library</a></li>
<li class="level1"><a href="#changing_text_style_and_color">Changing text style and color</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="basic_example"></a>
Basic example</h1>
<p><b>1.</b></p>
<p>The first thing you have to do is to include the library at the begining of your program.</p>
<p>Code: </p><div class="fragment"><div class="line">#include &quot;Shellminator.hpp&quot;</div>
</div><!-- fragment --><p><b>2.</b></p>
<p>After you included the library you have to create an object of it. Usually it has to be made before setup().</p>
<p>Code: </p><div class="fragment"><div class="line">Shellminator shell( &amp;Serial );</div>
</div><!-- fragment --><p>The code above creates an object called shell and gives it Serial as a communication channel.</p>
<p><b>3.</b></p>
<p>In the <b>setup</b> function you have to initialise the Serial object that you have passed to shell.</p>
<p>Code: </p><div class="fragment"><div class="line">Serial.begin( 115200 );</div>
<div class="line">while( !Serial );</div>
</div><!-- fragment --><p>In this example the Serial is configured with 115200 baudratem, but you can change it.</p>
<p><b>4.</b></p>
<p>After you initialised the serial port, it is very handy to clear the terminal. In my opinion it looks better, but this step is optional.</p>
<p>Code: </p><div class="fragment"><div class="line">shell.clear();</div>
</div><!-- fragment --><p>The clear command not deletes the content of the terminal, it just scrolls down to make it looks like that the terminal is empty. If you scroll up you will see the previus data.</p>
<p><b>5.</b></p>
<p>Now it is time to start the shell.</p>
<p>Code: </p><div class="fragment"><div class="line">shell.begin( &quot;arnold&quot; );</div>
</div><!-- fragment --><p>The begin function initializes the object, but you have to feed it with characters, it is not automatic. The only argument for begin is the banner text. This text can be your name, your companys name, your pets name, or simply empty( "" ).</p>
<p><b>6.</b></p>
<p>The last thing to do to make everything work is to put the update function in a periodic function. In Arduino environment the loop function is suitable for the job.</p>
<p>Code: </p><div class="fragment"><div class="line">void loop() {</div>
<div class="line"> </div>
<div class="line">  shell.update();</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --><p>You have to update quick enough to make sure that the Serial buffer wont overflow. But calling too frequently wastes your CPU time.</p>
<p>This code can be found in the examples as Simple.ino.</p>
<p>Code: </p><div class="fragment"><div class="line">/*</div>
<div class="line">* Created on Aug 10 2020</div>
<div class="line">*</div>
<div class="line">* Copyright (c) 2020 - Daniel Hajnal</div>
<div class="line">* hajnal.daniel96@gmail.com</div>
<div class="line">*</div>
<div class="line">* This file is part of the Shellminator project.</div>
<div class="line">*/</div>
<div class="line"> </div>
<div class="line">/// This is the bare minimum configuration to make Shellminator work.</div>
<div class="line">/// All parameters are default.</div>
<div class="line"> </div>
<div class="line">#include &quot;Shellminator.hpp&quot;</div>
<div class="line"> </div>
<div class="line">/// Create a Shellminator object, and initialise it to use Serial</div>
<div class="line">Shellminator shell( &amp;Serial );</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line"> </div>
<div class="line">  /// Initialise Serial with 115200 baudrate</div>
<div class="line">  Serial.begin( 115200 );</div>
<div class="line"> </div>
<div class="line">  /// Wait for connection</div>
<div class="line">  while( !Serial );</div>
<div class="line"> </div>
<div class="line">  /// Clear the terminal</div>
<div class="line">  shell.clear();</div>
<div class="line"> </div>
<div class="line">  /// Wait 2 seconds before initialising the program.</div>
<div class="line">  /// It is optional, just simply give you some time to open</div>
<div class="line">  /// a terminal application after sketch upload.</div>
<div class="line">  delay( 2000 );</div>
<div class="line"> </div>
<div class="line">  /// Print start message</div>
<div class="line">  Serial.println( &quot;Program begin...&quot; );</div>
<div class="line"> </div>
<div class="line">  /// Initialise shell object.</div>
<div class="line">  shell.begin( &quot;arnold&quot; );</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop() {</div>
<div class="line"> </div>
<div class="line">  /// Feed Shellminator&#39;s update function.</div>
<div class="line">  shell.update();</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="create_costum_logo"></a>
Create costum logo</h1>
<p><b>1.</b></p>
<p>The first step is the most difficult. You have to came up with an idea what you want to see at startup.</p>
<p><b>2.</b></p>
<p>After you have came up with the startup text, go to <a href="https://patorjk.com/software/taag/#p=display&amp;f=Slant&amp;t=Arduino">this</a> website.</p>
<p><b>3.</b></p>
<p><img src="create_costum_logo_ascii_art_generator.png" alt="" class="inline"/>   </p>
<p>In this webpage you can generate all sorts of ASCII art. Just follow the steps in the image abowe.</p>
<p><b>4.</b></p>
<p>After you generated and copied the ASCII text art, go to <a href="https://tomeko.net/online_tools/cpp_text_escape.php?lang=en">this</a> website.</p>
<p><b>5.</b></p>
<p><img src="create_costum_logo_c_string_generator.png" alt="" class="inline"/>   </p>
<p>In this webpage you can generate a c/c++ like string from regular text. Just follow the steps in the image abowe.</p>
<p><b>6.</b></p>
<p>Paste the generated c/c++ string to your code like this:</p>
<div class="fragment"><div class="line">const char *Shellminator::logo =</div>
<div class="line">&quot;    ___             __      _           \n&quot;</div>
<div class="line">&quot;   /   |  _________/ /_  __(_)___  ____ \n&quot;</div>
<div class="line">&quot;  / /| | / ___/ __  / / / / / __ \\/ __ \\\n&quot;</div>
<div class="line">&quot; / ___ |/ /  / /_/ / /_/ / / / / / /_/ /\n&quot;</div>
<div class="line">&quot;/_/  |_/_/   \\__,_/\\__,_/_/_/ /_/\\____/ \n&quot;</div>
<div class="line">&quot;                                        \n&quot;</div>
<div class="line">;</div>
</div><!-- fragment --><p>The only problem with this string is that the line termination is only a "\n" character. We need to add a "\r" character before every "\n" character to make it pretty in the final result.</p>
<p>Code:</p>
<div class="fragment"><div class="line">const char *Shellminator::logo =</div>
<div class="line">&quot;    ___             __      _           \r\n&quot;</div>
<div class="line">&quot;   /   |  _________/ /_  __(_)___  ____ \r\n&quot;</div>
<div class="line">&quot;  / /| | / ___/ __  / / / / / __ \\/ __ \\\r\n&quot;</div>
<div class="line">&quot; / ___ |/ /  / /_/ / /_/ / / / / / /_/ /\r\n&quot;</div>
<div class="line">&quot;/_/  |_/_/   \\__,_/\\__,_/_/_/ /_/\\____/ \r\n&quot;</div>
<div class="line">&quot;                                        \r\n&quot;</div>
<div class="line">;</div>
</div><!-- fragment --><p>Example code in one peace:</p>
<div class="fragment"><div class="line">#include &quot;Shellminator.hpp&quot;</div>
<div class="line"> </div>
<div class="line">/// To create costum startup logo: https://patorjk.com/software/taag/#p=display&amp;f=Slant&amp;t=Arduino</div>
<div class="line">/// To make it to a c-string: https://tomeko.net/online_tools/cpp_text_escape.php?lang=en</div>
<div class="line">/// Add &#39;\r&#39; to all line end.</div>
<div class="line">const char *Shellminator::logo =</div>
<div class="line">&quot;    ___             __      _           \r\n&quot;</div>
<div class="line">&quot;   /   |  _________/ /_  __(_)___  ____ \r\n&quot;</div>
<div class="line">&quot;  / /| | / ___/ __  / / / / / __ \\/ __ \\\r\n&quot;</div>
<div class="line">&quot; / ___ |/ /  / /_/ / /_/ / / / / / /_/ /\r\n&quot;</div>
<div class="line">&quot;/_/  |_/_/   \\__,_/\\__,_/_/_/ /_/\\____/ \r\n&quot;</div>
<div class="line">&quot;                                        \r\n&quot;</div>
<div class="line">;</div>
<div class="line"> </div>
<div class="line">/// Create a Shellminator object, and initialise it to use Serial</div>
<div class="line">Shellminator shell( &amp;Serial, execution_function );</div>
<div class="line"> </div>
<div class="line">void setup(){</div>
<div class="line">  .</div>
<div class="line">  .</div>
<div class="line">  .</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="add_execution_function"></a>
Add execution function</h1>
<p>In a real life application the execution function is the most important function in your shell subsystem. This functions job is to process the command that has been recived. <a class="el" href="class_shellminator.html" title="Shellminator object.">Shellminator</a> is just a terminal interface, it does not process any command, just pass it to the execution function. But it can be used as a glue between your terminal application and your interpreter( execution function ).</p>
<p><b>The shape of the execution function</b></p>
<p>The execution function is a void return type and has only one argument, and that argument is a char* type.</p>
<p>For example:</p>
<div class="fragment"><div class="line">void execution_function( char *cmd );</div>
</div><!-- fragment --><p>The name of the function and its argument can be anything, but the <b>types has to match!</b></p>
<p>Also good example:</p>
<div class="fragment"><div class="line">void please_do_what_i_want( char *order );</div>
</div><!-- fragment --><p>Adding an execution function to a <a class="el" href="class_shellminator.html" title="Shellminator object.">Shellminator</a> object is simple. You have two options for that.</p>
<p><b>1.</b> Use the constructor:</p>
<div class="fragment"><div class="line">Shellminator shell( &amp;Serial, execution_function );</div>
</div><!-- fragment --><p><b>2.</b> Use a dedicated function:</p>
<div class="fragment"><div class="line">addExecFunc( execution_function );</div>
</div><!-- fragment --><p>This function can be used also when you have to change the execution function runtime.</p>
<p><b>Example</b></p>
<p><img src="arduino_exec_func_test.png" alt="" class="inline"/>   </p>
<p>In the examples the Advanced.ino shows a basic implementation of a command parser. It not very efficient but if you have a small amount of commands and a simple project, it will be enough. You can easily modify it to add your costum commands.</p>
<h1><a class="anchor" id="configure_the_library"></a>
Configure the library</h1>
<p>There are some parameters that can be changed in the library.</p>
<p><b>1.</b></p>
<p>To make this changes first you have to open the <a class="el" href="_shellminator_8hpp.html">Shellminator.hpp</a> file. In the Arduino environment it can be located under your libraries\Shellminator folder. __The Arduino library folder usually located in '\Documents\Arduino\libraries\'.__ You will need a good text editor for this. I can recommend <a href="https://atom.io/">Atom</a> or <a href="https://notepad-plus-plus.org/downloads/">Notepad++</a> for example.</p>
<p><b>2.</b></p>
<p>After you opened the header file, in the begining of the file you can find a section like this:</p>
<div class="fragment"><div class="line">///  +------  Costum configuration  ------+</div>
<div class="line">///  |                                    |</div>
<div class="line">///  |  This is where you have to config  |</div>
<div class="line">///  |           your defines!            |</div>
<div class="line">///  |                                    |</div>
<div class="line">///  +------------------------------------+</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">/// #define SHELLMINATOR_SERIAL_CLASS           // default: Serial_</div>
<div class="line">/// #define SHELLMINATOR_BUFF_LEN               // default: 20</div>
<div class="line">/// #define SHELLMINATOR_BUFF_DIM               // default: 5</div>
<div class="line">/// #define SHELLMINATOR_BANNER_LEN             // default: 20</div>
<div class="line">/// #define SHELLMINATOR_LOGO_FONT_STYLE        // default: BOLD</div>
<div class="line">/// #define SHELLMINATOR_LOGO_COLOR             // default: RED</div>
</div><!-- fragment --><p>This is the section of the header that can modify the default configuration. You can see the default values for every parameter. If you want to change any of them, just uncomment it, <b>and give it a value!</b> For example:</p>
<div class="fragment"><div class="line">///  +------  Costum configuration  ------+</div>
<div class="line">///  |                                    |</div>
<div class="line">///  |  This is where you have to config  |</div>
<div class="line">///  |           your defines!            |</div>
<div class="line">///  |                                    |</div>
<div class="line">///  +------------------------------------+</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">/// #define SHELLMINATOR_SERIAL_CLASS           // default: Serial_</div>
<div class="line">/// #define SHELLMINATOR_BUFF_LEN               // default: 20</div>
<div class="line">#define SHELLMINATOR_BUFF_DIM 10                // default: 5</div>
<div class="line">/// #define SHELLMINATOR_BANNER_LEN             // default: 20</div>
<div class="line">/// #define SHELLMINATOR_LOGO_FONT_STYLE        // default: BOLD</div>
<div class="line">/// #define SHELLMINATOR_LOGO_COLOR             // default: RED</div>
</div><!-- fragment --><p>The modification above expands the history to 9 element.</p>
<h1><a class="anchor" id="changing_text_style_and_color"></a>
Changing text style and color</h1>
<p>If you want to highlight something or just make your messages pretty this can be a useful function.</p>
<p>Code:</p>
<div class="fragment"><div class="line">shell.setTerminalCharacterColor( Shellminator::BOLD, Shellminator::RED );</div>
</div><!-- fragment --><p>Available styles: REGULAR, BOLD, LOW_INTENSITY, ITALIC, UNDERLINE, BLINKING, REVERSE, BACKGROUND, INVISIBLE</p>
<p>Available colors: BLACK, RED, GREEN, YELLOW, BLUE, MAGENTA, CYAN, WHITE </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
